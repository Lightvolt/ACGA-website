{% extends "base_CGL.html" %}

{% block javascript %}<script type="text/javascript" src="/site_media/CollapsibleLists.js"></script>
{% endblock %}

{% block PageID %}<div id="results">{% endblock PageID %}

{% block title %}Current Season: {{current_season.name}}{% endblock title %}


{% block maintext %}

<h2> Standings: </h2>

<ul>
	<li><strong>School Name (Wins-Losses-Ties)</strong></li>
{% for membership in all_memberships %}
	<li><Strong>{{membership.school.name}} ({{membership.num_wins}} - {{membership.num_losses}} - {{membership.num_ties}})</STRONG></li>
{% endfor %} 
</ul>

<hr />

<h3>Rounds</h3>
<ul class="collapsibleList">
{% for round in current_season.round_set.all %}
	<li><h3 class="clickable">{{round}}</h3>
	<ul>
	{% for match in round.match_set.all %}
		<li><h4><span class="clickable">[Expand]</span> <a href="{{match.school1.url}}">{{match.school1.name}}</a> ({{match.score1}} - {{match.score2}}) <a href="{{match.school2.url}}">{{match.school2.name}}</a></h4>
		<ul>
		{% for game in match.game_set.all %}
			{{game.display_result|safe}}		
		{% endfor %}
		{% for forfeit in match.forfeit_set.all %}
			{{forfeit.display_result|safe}}
		{% endfor %}
		</ul>
		</li>
	{% endfor %}
	</ul>
	</li>
{% endfor %}
</ul>
<hr />

<h2>Archives</h2>
{% for season in all_seasons %}
<h3><a href="/CGL/results/{{season.slug_name}}">{{season.name}}</a></h3>
{% endfor %}

{% endblock maintext %}

{% block javascript_footer %}
<script type="text/javascript">CollapsibleLists.apply();</script>
{% endblock %}


